<!DOCTYPE html>
<html>
<head>
  <title>Pinboard</title>
</head>
<script>
var loc = location.href;
var baseurl = loc.substring(0,loc.lastIndexOf('/'));

var data = {
  // currently required
  "name": "Pinboard",
  "iconURL":   baseurl+"/images/pinboard16.png",
  "icon32URL": baseurl+"/images/pinboard16.png",
  "icon64URL": baseurl+"/images/pinboard16.png",

  "markURL": "https://pinboard.in/add?showtags=yes&url=%{url}&description=%{description}&title=%{title}",
  "markedIcon":   baseurl+"/images/pinboard16.png",
  "unmarkedIcon": baseurl+"/images/pinboard16.png",

  "activities": {
    "share": {
      "disposition": "inline",
      "filters": { "type": [ "*" ] },
      "href": "https://pinboard.in/add",
      "returnValue": false
    }
  },

  // should be available for display purposes
  "description": "A provider to bookmark URLs to Pinboard",
  "author": "Lorenzo Manacorda",
  "homepageURL": "https://github.com/asymmetric/pinboard-provider/",

  // optional
  "version": "0.1"
}

function activate(node) {
  var event = new CustomEvent("ActivateSocialFeature");
  node.setAttribute("data-service", JSON.stringify(data));
  node.dispatchEvent(event);
}
</script>
<body>
  <button onclick="activate(this)" title="activate the pinboard bookmarking provider">Activate The Pinboard Bookmarking Provider</button>
</body>
</html>
